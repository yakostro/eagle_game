# Система повышения спавна рыбы перед гнездом

## Описание проблемы
Игрок иногда видит гнездо, но за время до него не появляется ни одной рыбы. Цель становится невыполнимой — это фрустрирует и ломает базовый цикл "поймал → кормление".

## Решение
Реализована система временного увеличения частоты спавна рыбы перед появлением гнезда.

## Параметры системы (все настраиваются в инспекторе)

### В FishSpawner:
- `boost_enabled: bool = true` - Включить/выключить систему буста
- `boost_trigger_obstacles: int = 2` - За сколько препятствий до гнезда начать буст
- `boost_spawn_interval: float = 1.5` - Интервал спавна во время буста (быстрее обычного)
- `boost_duration: float = 8.0` - Длительность буста в секундах
- `min_fish_guaranteed: int = 2` - Минимальное гарантированное количество рыбы за буст

## Как работает

1. **Связывание с NestSpawner**: При запуске FishSpawner автоматически находит NestSpawner и подключается к сигналу `nest_incoming`

2. **Триггер буста**: Когда NestSpawner сообщает, что до гнезда осталось `boost_trigger_obstacles` препятствий или меньше, запускается буст

3. **Активация буста**:
   - Немедленно спавнится одна рыба для мгновенной возможности
   - Интервал спавна уменьшается до `boost_spawn_interval`
   - Запускается таймер на `boost_duration` секунд
   - Подсчитывается количество рыбы, заспавненной за время буста

4. **Окончание буста**:
   - По истечению времени или при достижении максимума
   - Проверяется минимальное количество рыбы - если недостаточно, дополнительно спавнятся рыбы
   - Интервал спавна возвращается к нормальному

## Преимущества решения

- **Предсказуемо**: Система работает по четким правилам
- **Не навязчиво**: Нет "спавна под нос", но гарантировано окно возможности
- **Настраиваемо**: Все параметры регулируются в инспекторе
- **Надежно**: Система гарантирует минимальное количество попыток

## Логирование

Система выводит информационные сообщения:
- `🐟 FishSpawner: Connected to NestSpawner for pre-nest boost` - успешная инициализация
- `🐟 FISH BOOST STARTED! Interval: X.Xs for Y.Ys` - начало буста
- `🐟 Fish boost ended. Spawned N fish during boost` - окончание буста
- `🐟 Spawning N additional fish to meet minimum guarantee` - дополнительный спавн для гарантии

## Тестирование

Чтобы протестировать систему:
1. Запустить игру
2. Дождаться появления препятствий
3. Следить за сообщением "Nest ahead!" в UI
4. До появления гнезда должно появиться больше рыбы чем обычно
5. Проверить в консоли логи системы буста